---
description: Git flow — develop for work, main for production; releases via tags.
alwaysApply: true
---

# Git flow (GitHub): develop → main and tagged releases

- **Branches**: Day-to-day work happens on `develop`. The `main` branch is production and must only be updated from `develop` (merge or squash) when the code is ready for release.
- **Releases**: Before publishing to GitHub or releasing a version:
  1. Ensure everything is committed on `develop` and **all tests pass** (`make test` or `go test ./...`).
  2. Merge `develop` into `main` (or open a Pull Request develop → main).
  3. On `main`, create an annotated tag with the version number (e.g. `v1.0.0`):  
     `git tag -a v1.0.0 -m "Release 1.0.0"`  
     and push the tag:  
     `git push origin v1.0.0`
- **Versions**: Use semantic versioning (MAJOR.MINOR.PATCH) for tags, e.g. `v1.2.3`.
- **Never** commit directly to `main` for features or fixes; everything must go through `develop`, then merge into `main` at release time.
